@model LightLib.Web.Models.Patron.PatronCreateModel
@{
    ViewBag.Title = "Create";
}

<form onsubmit="createPatron(event)">
    <label for="fname">First Name:</label><input type="text" id="fname" name="fname"><br>
    <label for="lname">Last Name:</label><input type="text" id="lname" name="lname"><br>
    <label for="addr">Address:</label><input type="text" id="addr" name="addr"><br>
    <label for="dob">Date of Birth:</label><input type="text" id="dob" name="dob"><br>
    <label for="email">Email:</label><input type="text" id="email" name="email"><br>
    <label for="tel">Telephone:</label><input type="text" id="tel" name="tel"><br>
    <label for="libCId">Library Card ID:</label><input type="text" id="libCId" name="libCId"><br>
    <label for="homeLibId">Home Library Branch ID:</label><input type="text" id="homeLibId" name="homeLibId"><br>
    <input type="submit" value="Submit"/>
</form>

<script>
    var createPatron = (event) => {
        event.preventDefault();

        var fname = document.getElementById("fname").value;
        var lname = document.getElementById("lname").value;
        var addr = document.getElementById("addr").value;
        var dob = document.getElementById("dob").value;
        var email = document.getElementById("email").value;
        var tel = document.getElementById("tel").value;
        var libCId = document.getElementById("libCId").value;
        var homeLibId = document.getElementById("homeLibId").value;

        console.log(fname, lname, addr, dob, email, tel, libCId, homeLibId);

        var cards = @ViewData["cardIds"];
        for (var i = 0; i < cards.length; i++) {
            console.log(cards[i]);
        }

        var branches = @ViewData["branches"];
        for (var i = 0; i < branches.Count(); i++) {
            console.log(branches[i].Name);
        }
        

        var cardsStr = '@ViewData["cardIdsStr"]';
        var branchesStr = '@ViewData["branchesStr"].ToString()';


        console.log(cardsStr);
        console.log(branchesStr);
    };
</script>